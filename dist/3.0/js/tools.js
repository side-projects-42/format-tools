var crlf=/(\r?\n|\r)/g,whitespace=/(\r?\n|\r|\s+)/g;function getServerHeaderChecker(){$("#resultDiv").addClass("hide"),$("#resultTBody").html(""),$.ajax({type:"post",dataType:"json",data:{domain:getValidDomain($("#domainName").val())},url:"//codebeautify.com/WebCalls/server-header-checker",success:function(e){0!=e?(console.log(e),displayResultTable(e)):displayErrorTable("Sorry no header data found."),$("#resultDiv").removeClass("hide")},error:function(e,t,a){displayErrorTable(e),$("#resultDiv").removeClass("hide"),console.log(e)}}),$("#domainLabel").text($("#domainName").val())}function runCodeCleaner(){$("#resultDiv").addClass("hide"),$("#resultTBody").html(""),$.ajax({type:"post",dataType:"text",data:{domain:getValidDomain($("#domainName").val())},url:"service/getUrlContain",success:function(e){0!=e?codeCleanerResult(e):displayErrorTable("Sorry no header data found."),$("#resultDiv").removeClass("hide")},error:function(e,t,a){displayErrorTable(e),$("#resultDiv").removeClass("hide"),console.log(e)}}),$("#domainLabel").text($("#domainName").val())}function codeCleanerResult(e){var t=countBytes(e),a=countBytes(vkbeautify.xmlmin(e)),r=t-a,o=(100*r/t).toFixed(2);displayResultTable({"Original Size":t=formateByteCount(t),"Optimized Size":a=formateByteCount(a),"Size Reduced By":r=formateByteCount(r),"Reduced By":o+"%"})}function countBytes(e,t){(t=t||{}).lineBreaks=t.lineBreaks||1,t.ignoreWhitespace=t.ignoreWhitespace||!1;var a=e.length,r=a-e.replace(/[\u0100-\uFFFF]/g,"").length,o=a-e.replace(crlf,"").length;return t.ignoreWhitespace?(e=e.replace(whitespace,"")).length+r:a+r+Math.max(0,t.lineBreaks*(o-1))}function formateByteCount(e){for(var t=0;e>1024;)e/=1024,t++;return(e=Math.round(100*e)/100)+" "+(t=["","K","M","G","T"][t])+"B"}function displayResultTable(e){var t=[];Object.keys(e).forEach((function(a){t.push("<tr>"),isNaN(a)?(t.push("<td>"),t.push(a),t.push("</td>"),t.push("<td>"),t.push(e[a]),t.push("</td>")):(t.push("<td>"),t.push(e[a]),t.push("</td>")),t.push("</tr>")})),$("#resultTBody").html(t.join(""))}function displayErrorTable(e){var t=[];t.push("<tr>"),t.push("<td>"),t.push(e),t.push("</td>"),t.push("</tr>"),$("#resultTBody").html(t.join(""))}function getValidDomain(e){return e.startsWith("http")||(e="http://"+e),e}